:root{
  --bg1:#0b1020;
  --bg2:#141b33;
  --card:rgba(255,255,255,.78);
  --card2:rgba(255,255,255,.62);
  --txt:#0e1222;
  --muted:rgba(14,18,34,.68);
  --shadow:0 18px 50px rgba(0,0,0,.22);
  --r:22px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  background: radial-gradient(1200px 700px at 20% 10%, #2a3a86 0%, transparent 55%),
              radial-gradient(900px 600px at 80% 30%, #b4337d 0%, transparent 50%),
              linear-gradient(180deg, var(--bg1), var(--bg2));
  color: #fff;
  overflow:hidden;
}

.app{
  height:100%;
  display:grid;
  grid-template-rows:auto 1fr;
  padding: max(10px, env(safe-area-inset-top)) 12px max(14px, env(safe-area-inset-bottom));
  gap: 10px;
}

.topbar{
  display:flex;
  align-items:center;
  gap: 10px;
}

.brand{
  width: 44px;
  height: 44px;
  display:grid;
  place-items:center;
  border-radius: 16px;
  background: rgba(255,255,255,.14);
  backdrop-filter: blur(10px);
  box-shadow: 0 14px 30px rgba(0,0,0,.20);
  font-size: 20px;
}

.dots{
  flex:1;
  display:flex;
  gap: 8px;
  justify-content:center;
  align-items:center;
}

.dot{
  width: 10px;
  height: 10px;
  border-radius: 99px;
  background: rgba(255,255,255,.28);
  transform: scale(.95);
  transition: transform .2s ease, background .2s ease, width .2s ease;
}
.dot.on{
  width: 22px;
  background: rgba(255,255,255,.9);
  transform: scale(1);
}

.iconbtn{
  width: 44px;
  height: 44px;
  border:0;
  border-radius: 16px;
  background: rgba(255,255,255,.14);
  color:#fff;
  font-size: 18px;
  box-shadow: 0 14px 30px rgba(0,0,0,.20);
}

.deck{
  position:relative;
  height:100%;
  border-radius: 26px;
  overflow:hidden;
  background: rgba(255,255,255,.06);
  backdrop-filter: blur(10px);
  box-shadow: 0 22px 70px rgba(0,0,0,.32);
}

.slide{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  padding: 18px 14px;
  opacity:0;
  transform: translateX(14px) scale(.985);
  transition: opacity .24s ease, transform .24s ease;
}

.slide.on{
  opacity:1;
  transform: translateX(0) scale(1);
  z-index:2;
}

.card{
  position:relative;
  width: min(560px, 96%);
  background: var(--card);
  color: var(--txt);
  border-radius: var(--r);
  box-shadow: var(--shadow);
  padding: clamp(16px, 4.5vw, 24px);
  overflow:hidden;
}

.card.hero{
  padding: clamp(18px, 5vw, 28px);
}

.badge{
  display:inline-flex;
  align-items:center;
  gap: 8px;
  background: rgba(255,255,255,.65);
  padding: 8px 12px;
  border-radius: 999px;
  font-weight: 800;
  font-size: 13px;
  color: rgba(14,18,34,.78);
}

h1{
  margin: 12px 0 6px;
  font-size: clamp(28px, 7.6vw, 44px);
  line-height: 1.03;
  letter-spacing: -0.02em;
}

p{
  margin: 0 0 14px;
  font-size: clamp(15px, 4.2vw, 18px);
  line-height: 1.35;
  color: var(--muted);
}

.actions{
  margin-top: 14px;
  display:flex;
  gap: 10px;
  justify-content:flex-end;
  flex-wrap: wrap;
}

.btn{
  border:0;
  border-radius: 18px;
  padding: 12px 16px;
  font-weight: 900;
  font-size: 16px;
  background: rgba(17,24,39,.92);
  color:#fff;
  box-shadow: 0 14px 28px rgba(0,0,0,.18);
}

.btn.ghost{
  background: rgba(255,255,255,.72);
  color: rgba(17,24,39,.92);
}

.field{
  display:flex;
  gap: 10px;
  align-items:center;
}

.field input{
  flex:1;
  border:0;
  border-radius: 16px;
  padding: 14px 14px;
  font-size: 16px;
  background: rgba(255,255,255,.74);
  outline: none;
}

.game{
  margin-top: 6px;
  display:grid;
  gap: 14px;
}

.toy{
  width: min(360px, 92%);
  margin: 0 auto;
  border:0;
  border-radius: 24px;
  background: rgba(255,255,255,.72);
  box-shadow: 0 18px 44px rgba(0,0,0,.14);
  padding: 18px 18px;
  display:grid;
  gap: 6px;
  place-items:center;
}

.toy-face{
  font-size: 52px;
  transform: translateY(0);
  transition: transform .12s ease;
}

.toy:active .toy-face{
  transform: translateY(2px) scale(.98);
}

.toy-text{
  font-weight: 900;
  color: rgba(14,18,34,.72);
}

.meter{
  display:flex;
  align-items:center;
  gap: 12px;
  justify-content:center;
}

.meter-bar{
  width: min(340px, 72vw);
  height: 14px;
  background: rgba(17,24,39,.12);
  border-radius: 999px;
  overflow:hidden;
}

.meter-fill{
  height: 100%;
  width: 0%;
  background: rgba(17,24,39,.90);
  border-radius: 999px;
  transition: width .18s ease;
}

.meter-meta{
  font-weight: 900;
  color: rgba(14,18,34,.72);
}

.player{
  margin: 14px auto 0;
  width: min(520px, 96%);
  background: var(--card2);
  border-radius: 20px;
  padding: 14px;
  box-shadow: 0 18px 40px rgba(0,0,0,.12);
}

.track{
  display:flex;
  align-items:center;
  gap: 12px;
  margin-bottom: 10px;
}

.cover{
  width: 52px;
  height: 52px;
  border-radius: 16px;
  display:grid;
  place-items:center;
  font-weight: 900;
  background: rgba(255,255,255,.78);
  box-shadow: 0 12px 20px rgba(0,0,0,.10);
  font-size: 20px;
}

.meta .title{font-weight: 950}
.meta .artist{opacity:.7; font-size: 13px; margin-top: 2px}

input[type="range"]{
  width: 100%;
  margin: 6px 0 10px;
}

.controls{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
}

.time{
  font-size: 14px;
  opacity: .75;
  font-weight: 900;
  color: rgba(14,18,34,.72);
}

.toast{
  position: fixed;
  left: 0;
  right: 0;
  bottom: 18px;
  z-index: 9999;
  display: grid;
  place-items: center;
  pointer-events: none;
  opacity: 0;
  transform: translateY(14px);
  transition: opacity .22s ease, transform .22s ease;
}

.toast.show{
  opacity: 1;
  transform: translateY(0);
}

.toast-card{
  width: min(540px, 92vw);
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 14px;
  border-radius: 20px;
  background: rgba(255,255,255,.82);
  backdrop-filter: blur(10px);
  box-shadow: 0 18px 44px rgba(20,20,40,.18);
  pointer-events: auto;
  color: rgba(14,18,34,.92);
}

.toast-emoji{
  width: 44px;
  height: 44px;
  border-radius: 16px;
  display: grid;
  place-items: center;
  background: rgba(255,255,255,.82);
  box-shadow: 0 12px 20px rgba(20,20,40,.10);
  font-size: 20px;
}

.toast-text{flex: 1; text-align: left}
.toast-title{font-weight: 950; line-height: 1.1}
.toast-msg{opacity: .75; margin-top: 2px; font-size: 14px; line-height: 1.3}

.toast-close{
  border: 0;
  background: rgba(255,255,255,.74);
  border-radius: 999px;
  padding: 10px 12px;
  font-size: 16px;
  box-shadow: 0 12px 20px rgba(20,20,40,.10);
}

.decor{
  position:absolute;
  inset:0;
  pointer-events:none;
  overflow:hidden;
  z-index:1;
}

.de{
  position:absolute;
  font-size: var(--s, 22px);
  opacity: var(--o, .9);
  filter: blur(var(--b, 0px));
  transform: translate3d(0,0,0);
  animation: floaty var(--t, 8s) ease-in-out infinite;
}

@keyframes floaty{
  0%{ transform: translate3d(0, 0, 0) rotate(0deg) }
  50%{ transform: translate3d(0, -18px, 0) rotate(6deg) }
  100%{ transform: translate3d(0, 0, 0) rotate(0deg) }
}

@keyframes drift{
  0%{ transform: translate3d(0, 0, 0) }
  100%{ transform: translate3d(0, -120vh, 0) }
}

.de.drift{
  animation: drift var(--t, 12s) linear infinite;
}

@media (min-width: 900px){
  .deck{ border-radius: 30px; }
  .slide{ padding: 26px; }
}